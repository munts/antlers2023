{% if posts|length > 0 %}
  <flynt-component name="GridPostsLatest" class="componentSpacing" {{ options.theme ? 'data-theme="' ~ options.theme ~ '"' }}>
  {# {{queriedPost}}
  {{layoutType}}
  {{posts|join('|', ' ')}} #}
    <div class="container" data-flow="layout">
      {% if preContentHtml %}
        <div data-size="medium" data-align="center" data-text-align="center">
          {{ preContentHtml|e('wp_kses_post') }}
        </div>
      {% endif %}

      {% if layoutType == 'cards' %}
      <ul class="grid" {{ options.maxColumns ? 'data-max-columns="' ~ options.maxColumns ~ '"' }}>
        {% for post in posts %}
          <li class="post boxBorder" data-theme="reset">
            <a class="link" href="{{ post.link|e('esc_url') }}" aria-label="{{ post.title }}">
              {% if post.thumbnail %}
                <figure class="figure">
                  <img class="post-image figure-image lazyload"
                    src="{{ post.thumbnail.src|resizeDynamic(768, (768 / 3 * 2)|round, 'center') }}"
                    width="{{ 768 }}"
                    height="{{ (768 / 3 * 2)|round }}"
                    srcset="{{ placeholderImage(768, (768 / 3 * 2)|round, 'rgba(125, 125, 125, 0.1)') }}"
                    data-srcset="
                      {{ post.thumbnail.src|resizeDynamic(768, (768 / 3 * 2)|round, 'center') }} 768w,
                      {{ post.thumbnail.src|resizeDynamic(640, (640 / 3 * 2)|round, 'center') }} 640w"
                    data-sizes="auto"
                    alt="{{ post.title }}">
                </figure>
              {% endif %}
              <div class="content boxPadding">
              {% set max_length = 100 %}
                <h2 class="h5">{{ post.title }}</h2>
                <p>{{ post.content|slice(0, max_length)}}...</p>
              </div>
              <footer class="footer">
                <span class="button button--text">{{ labels.readMore }}</span>
              </footer>
            </a>
          </li>
        {% endfor %}
      </ul>
      {% elseif layoutType == 'links' %}
      <ul class="units" {{ options.maxColumns ? 'data-max-columns="' ~ options.maxColumns ~ '"' }}>
        {% for post in posts %}
          <li class="links" data-theme="reset">
            <a class="link" href="{{ post.link|e('esc_url') }}" aria-label="{{ post.title }}">
             {{post.title}}
            </a>
          </li>
        {% endfor %}
      </ul>
      {% endif %}
      {% if queriedPost == 'post' %}
      <div data-size="medium" data-align="center" data-text-align="center">
        <a href="{{ postTypeArchiveLink|e('esc_url') }}" class="button button--text">{{ labels.allPosts }}</a>
      </div>
    </div>
    {% endif %}
  </flynt-component>
{% endif %}
